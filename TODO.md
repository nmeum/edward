# Library Interface

* Consider splitting `cmd.scm` into two libraries: (1) a library
  providing procedures for defining commands and (2) a library which
  provides an implementation of `ed(1)` commands mandated by POSIX.
* Provide a friendly HTML documentation for the public API. Ideally
  generated from source code comments, e.g. using `chibi-doc`?
* Improve procedure names and provide better types for addresses, ranges, â€¦
* Add `(chicken type)` annotations for the public API to catch more
  usage errors during compile-time instead of run-time.
* Provide an `(edward)` meta-library which imports all sub-libraries.

# Miscellaneous

* Consider using Declarations and (chicken type) to enable more optimizations
	* https://wiki.call-cc.org/programming-for-performance
	* https://wiki.call-cc.org/man/5/Declarations
	* https://wiki.call-cc.org/man/5/Foreign%20type%20specifiers
* Figure out why edward is slower when compiled statically with eggs (linkage static)
* Integration tests: compare exit status
* Use posix-regex multiline feature instead of matching lines individually
* Make more use of parse-lazy and parse-memoize (see (chibi parse) documentation)
* Use chicken locative instead of editor-get-lnum hack to deal with pointers to lines
	* This requires the locative-index procedure (not available in CHiCKEN 5.3)
	* See ef2d98332b4d453288dc98298c394d8af645c863 in chicken-core.git
* Profile larger ed inputs (e.g. as generated by a fuzzer) with
  chicken-profile and figure identify (parsing) procedures which
  could be further optimized for performance
* Improve parser error messages (mostly returns `failed char pred` currently)
